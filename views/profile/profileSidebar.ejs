<!-- Responsive Sidebar -->
<!-- Profile Three-Dot Menu (Mobile View) -->
<div class="relative md:hidden">
  <!-- Menu Button -->
  <button id="profileMenuBtn" class="text-white text-2xl focus:outline-none">
    <i class="fas fa-user"></i>
  </button>

  <!-- Dropdown Menu -->
  <div id="profileMenu" class="absolute right-0 mt-12 bg-black text-white rounded-lg shadow-lg w-48 hidden z-50">
    <h2 class="text-lg font-bold p-4 text-center border-b border-gray-700">My Account</h2>
    <a href="/profile/personal-info" class="flex items-center transition duration-200 py-2 px-3 rounded-lg hover:bg-gradient-to-r hover:from-red-600 hover:to-yellow-400 hover:text-black <%= locals.title === 'Personal Information' ? 'bg-gradient-to-r from-red-600 to-yellow-400 text-black' : '' %>">
        <i class="fas fa-user mr-2"></i>
        <span class="text-sm">Personal Information</span>
    </a>
    <a href="/profile/address" class="flex items-center transition duration-200 py-2 px-3 rounded-lg hover:bg-gradient-to-r hover:from-red-600 hover:to-yellow-400 hover:text-black <%= locals.title === 'Address' ? 'bg-gradient-to-r from-red-600 to-yellow-400 text-black' : '' %>">
        <i class="fas fa-map-marker-alt mr-2"></i>
        <span class="text-sm">Address</span>
    </a>
    <a href="/profile/orders" class="flex items-center transition duration-200 py-2 px-3 rounded-lg hover:bg-gradient-to-r hover:from-red-600 hover:to-yellow-400 hover:text-black <%= locals.title === 'Orders' ? 'bg-gradient-to-r from-red-600 to-yellow-400 text-black' : '' %>">
        <i class="fas fa-box mr-2"></i>
        <span class="text-sm">Orders</span>
    </a>
    <a href="/profile/wallet" class="flex items-center transition duration-200 py-2 px-3 rounded-lg hover:bg-gradient-to-r hover:from-red-600 hover:to-yellow-400 hover:text-black <%= locals.title === 'Wallet' ? 'bg-gradient-to-r from-red-600 to-yellow-400 text-black' : '' %>">
        <i class="fas fa-wallet mr-2"></i>
        <span class="text-sm">Wallet</span>
    </a>
    <% if (user && user.password && user.password.length > 0) { %>
    <a href="/profile/change-password" class="flex items-center transition duration-200 py-2 px-3 rounded-lg hover:bg-gradient-to-r hover:from-red-600 hover:to-yellow-400 hover:text-black <%= locals.title === 'Change Password' ? 'bg-gradient-to-r from-red-600 to-yellow-400 text-black' : '' %>">
        <i class="fas fa-key mr-2"></i>
        <span class="text-sm">Change Password</span>
    </a>
    <% } %>
  </div>
</div>

<!-- JavaScript for Menu Toggle -->
<script>
  const menuBtn = document.getElementById('profileMenuBtn');
  const menu = document.getElementById('profileMenu');

  menuBtn.addEventListener('click', () => {
    menu.classList.toggle('hidden');
  });

  // Optional: Close menu when clicking outside
  window.addEventListener('click', (e) => {
    if (!menu.contains(e.target) && !menuBtn.contains(e.target)) {
      menu.classList.add('hidden');
    }
  });
</script>


<!-- Desktop View Sidebar -->
<div class="hidden md:flex bg-[#121213] text-white flex-col items-center p-6 w-80 h-full sticky top-0">
  <div class="w-full space-y-6">
      <h2 class="text-lg font-bold">My Account</h2>
      <nav class="flex flex-col w-full">
          <a href="/profile/personal-info" class="sidebar-link">Personal Information</a>
          <a href="/profile/address" class="sidebar-link">Address</a>
          <a href="/profile/orders" class="sidebar-link">Orders</a>
          <a href="/profile/wallet" class="sidebar-link">Wallet</a>
          <% if (user && user.password && user.password.length > 0) { %>
              <a href="/profile/change-password" class="sidebar-link">Change Password</a>
          <% } %>
      </nav>
  </div>
</div>

<!-- CSS Styles -->
<style>
  .sidebar-link {
    display: flex;
    align-items: center;
    background-color: #1f1f1f;
    color: #b0b0b0;
    padding: 12px 16px;
    border-radius: 8px;
    transition: background-color 0.3s ease, color 0.3s ease, background 0.5s linear;
  }

  .sidebar-link:hover {
    background: linear-gradient(90deg, #ff0000, #ff7f50);
    color: white;
  }
</style>
